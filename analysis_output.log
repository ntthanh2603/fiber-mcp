================================================================================
PHISHING WEBSITE DETECTION - ANALYSIS AND MODEL TRAINING
================================================================================

================================================================================
1. LOADING AND EXPLORING DATASET
================================================================================

üìä Dataset Shape: (10000, 50)
   - Total samples: 10,000
   - Total features: 49 (excluding target)

üìã First 5 rows:
   id  NumDots  ...  PctExtNullSelfRedirectHyperlinksRT  CLASS_LABEL
0   1        3  ...                                   1            1
1   2        3  ...                                   1            1
2   3        3  ...                                   0            1
3   4        3  ...                                  -1            1
4   5        3  ...                                  -1            1

[5 rows x 50 columns]

üìä Dataset Info:
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 10000 entries, 0 to 9999
Data columns (total 50 columns):
 #   Column                              Non-Null Count  Dtype  
---  ------                              --------------  -----  
 0   id                                  10000 non-null  int64  
 1   NumDots                             10000 non-null  int64  
 2   SubdomainLevel                      10000 non-null  int64  
 3   PathLevel                           10000 non-null  int64  
 4   UrlLength                           10000 non-null  int64  
 5   NumDash                             10000 non-null  int64  
 6   NumDashInHostname                   10000 non-null  int64  
 7   AtSymbol                            10000 non-null  int64  
 8   TildeSymbol                         10000 non-null  int64  
 9   NumUnderscore                       10000 non-null  int64  
 10  NumPercent                          10000 non-null  int64  
 11  NumQueryComponents                  10000 non-null  int64  
 12  NumAmpersand                        10000 non-null  int64  
 13  NumHash                             10000 non-null  int64  
 14  NumNumericChars                     10000 non-null  int64  
 15  NoHttps                             10000 non-null  int64  
 16  RandomString                        10000 non-null  int64  
 17  IpAddress                           10000 non-null  int64  
 18  DomainInSubdomains                  10000 non-null  int64  
 19  DomainInPaths                       10000 non-null  int64  
 20  HttpsInHostname                     10000 non-null  int64  
 21  HostnameLength                      10000 non-null  int64  
 22  PathLength                          10000 non-null  int64  
 23  QueryLength                         10000 non-null  int64  
 24  DoubleSlashInPath                   10000 non-null  int64  
 25  NumSensitiveWords                   10000 non-null  int64  
 26  EmbeddedBrandName                   10000 non-null  int64  
 27  PctExtHyperlinks                    10000 non-null  float64
 28  PctExtResourceUrls                  10000 non-null  float64
 29  ExtFavicon                          10000 non-null  int64  
 30  InsecureForms                       10000 non-null  int64  
 31  RelativeFormAction                  10000 non-null  int64  
 32  ExtFormAction                       10000 non-null  int64  
 33  AbnormalFormAction                  10000 non-null  int64  
 34  PctNullSelfRedirectHyperlinks       10000 non-null  float64
 35  FrequentDomainNameMismatch          10000 non-null  int64  
 36  FakeLinkInStatusBar                 10000 non-null  int64  
 37  RightClickDisabled                  10000 non-null  int64  
 38  PopUpWindow                         10000 non-null  int64  
 39  SubmitInfoToEmail                   10000 non-null  int64  
 40  IframeOrFrame                       10000 non-null  int64  
 41  MissingTitle                        10000 non-null  int64  
 42  ImagesOnlyInForm                    10000 non-null  int64  
 43  SubdomainLevelRT                    10000 non-null  int64  
 44  UrlLengthRT                         10000 non-null  int64  
 45  PctExtResourceUrlsRT                10000 non-null  int64  
 46  AbnormalExtFormActionR              10000 non-null  int64  
 47  ExtMetaScriptLinkRT                 10000 non-null  int64  
 48  PctExtNullSelfRedirectHyperlinksRT  10000 non-null  int64  
 49  CLASS_LABEL                         10000 non-null  int64  
dtypes: float64(3), int64(47)
memory usage: 3.8 MB
None

üìà Statistical Summary:
                id  ...   CLASS_LABEL
count  10000.00000  ...  10000.000000
mean    5000.50000  ...      0.500000
std     2886.89568  ...      0.500025
min        1.00000  ...      0.000000
25%     2500.75000  ...      0.000000
50%     5000.50000  ...      0.500000
75%     7500.25000  ...      1.000000
max    10000.00000  ...      1.000000

[8 rows x 50 columns]

üîç Missing Values:
   ‚úÖ No missing values found!

üè∑Ô∏è Feature Names:
   Total features: 49
   Features: ['id', 'NumDots', 'SubdomainLevel', 'PathLevel', 'UrlLength', 'NumDash', 'NumDashInHostname', 'AtSymbol', 'TildeSymbol', 'NumUnderscore']... (showing first 10)

üéØ Target Variable (CLASS_LABEL):
CLASS_LABEL
1    5000
0    5000
Name: count, dtype: int64

   Class Balance:
   - Legitimate (0): 5,000 (50.00%)
   - Phishing (1): 5,000 (50.00%)

================================================================================
2. EXPLORATORY DATA ANALYSIS (EDA)
================================================================================

üìä Creating class distribution visualization...
   ‚úÖ Saved: visualizations/01_class_distribution.png

üìä Creating feature distribution visualizations...
   ‚úÖ Saved: visualizations/02_feature_distributions.png

üìä Creating correlation matrix...
   ‚úÖ Saved: visualizations/03_correlation_matrix.png

üìä Top 10 features correlated with CLASS_LABEL:
PctExtNullSelfRedirectHyperlinksRT    0.540545
FrequentDomainNameMismatch            0.463956
NumDash                               0.372235
SubmitInfoToEmail                     0.357635
PctNullSelfRedirectHyperlinks         0.342806
InsecureForms                         0.316380
NumDots                               0.294111
PctExtHyperlinks                      0.259728
NumSensitiveWords                     0.255208
IframeOrFrame                         0.235233
Name: CLASS_LABEL, dtype: float64
   ‚úÖ Saved: visualizations/04_top_correlations.png

================================================================================
3. DATA PREPROCESSING
================================================================================

üìä Features shape: (10000, 48)
üìä Target shape: (10000,)

‚úÖ No missing values to handle

‚öôÔ∏è Applying StandardScaler for feature scaling...
   ‚úÖ Features scaled successfully

üìã Total features for modeling: 48

================================================================================
4. TRAIN/TEST SPLIT (80/20)
================================================================================

üìä Training set: 8,000 samples (80.0%)
üìä Test set: 2,000 samples (20.0%)

   Train class distribution:
   - Legitimate (0): 4,000
   - Phishing (1): 4,000

   Test class distribution:
   - Legitimate (0): 1,000
   - Phishing (1): 1,000

================================================================================
5. TRAINING MULTIPLE MODELS
================================================================================

ü§ñ Training Logistic Regression...
   ‚úÖ Logistic Regression trained successfully

ü§ñ Training Random Forest...
   ‚úÖ Random Forest trained successfully

ü§ñ Training XGBoost...
   ‚úÖ XGBoost trained successfully

================================================================================
6. MODEL EVALUATION
================================================================================

================================================================================
üìä Evaluating: Logistic Regression
================================================================================

üìà Metrics:
   - Accuracy:  0.9520
   - Precision: 0.9449
   - Recall:    0.9600
   - F1-Score:  0.9524
   - AUC-ROC:   0.9868

üìã Classification Report:
              precision    recall  f1-score   support

  Legitimate       0.96      0.94      0.95      1000
    Phishing       0.94      0.96      0.95      1000

    accuracy                           0.95      2000
   macro avg       0.95      0.95      0.95      2000
weighted avg       0.95      0.95      0.95      2000


üî¢ Confusion Matrix:
[[944  56]
 [ 40 960]]

================================================================================
üìä Evaluating: Random Forest
================================================================================

üìà Metrics:
   - Accuracy:  0.9855
   - Precision: 0.9860
   - Recall:    0.9850
   - F1-Score:  0.9855
   - AUC-ROC:   0.9989

üìã Classification Report:
              precision    recall  f1-score   support

  Legitimate       0.99      0.99      0.99      1000
    Phishing       0.99      0.98      0.99      1000

    accuracy                           0.99      2000
   macro avg       0.99      0.99      0.99      2000
weighted avg       0.99      0.99      0.99      2000


üî¢ Confusion Matrix:
[[986  14]
 [ 15 985]]

================================================================================
üìä Evaluating: XGBoost
================================================================================

üìà Metrics:
   - Accuracy:  0.9865
   - Precision: 0.9860
   - Recall:    0.9870
   - F1-Score:  0.9865
   - AUC-ROC:   0.9986

üìã Classification Report:
              precision    recall  f1-score   support

  Legitimate       0.99      0.99      0.99      1000
    Phishing       0.99      0.99      0.99      1000

    accuracy                           0.99      2000
   macro avg       0.99      0.99      0.99      2000
weighted avg       0.99      0.99      0.99      2000


üî¢ Confusion Matrix:
[[986  14]
 [ 13 987]]

================================================================================
üìä MODEL COMPARISON
================================================================================

              Model  Accuracy  Precision  Recall  F1-Score  AUC-ROC
            XGBoost    0.9865   0.986014   0.987  0.986507 0.998642
      Random Forest    0.9855   0.985986   0.985  0.985493 0.998927
Logistic Regression    0.9520   0.944882   0.960  0.952381 0.986837

‚úÖ Saved: results/model_comparison.csv
‚úÖ Saved: visualizations/06_model_comparison.png

================================================================================
7. FEATURE IMPORTANCE ANALYSIS
================================================================================

üå≤ Random Forest Feature Importance:
                               Feature  Importance
26                    PctExtHyperlinks    0.206943
47  PctExtNullSelfRedirectHyperlinksRT    0.167713
34          FrequentDomainNameMismatch    0.077804
27                  PctExtResourceUrls    0.067752
33       PctNullSelfRedirectHyperlinks    0.064520
4                              NumDash    0.045637
46                 ExtMetaScriptLinkRT    0.035868
13                     NumNumericChars    0.033375
29                       InsecureForms    0.033046
2                            PathLevel    0.028882
0                              NumDots    0.020572
38                   SubmitInfoToEmail    0.020504
21                          PathLength    0.018822
3                            UrlLength    0.016826
24                   NumSensitiveWords    0.016414
‚úÖ Saved: visualizations/07_feature_importance_rf.png

üöÄ XGBoost Feature Importance:
                               Feature  Importance
47  PctExtNullSelfRedirectHyperlinksRT    0.626911
26                    PctExtHyperlinks    0.081451
34          FrequentDomainNameMismatch    0.041682
29                       InsecureForms    0.027959
14                             NoHttps    0.023777
38                   SubmitInfoToEmail    0.021877
33       PctNullSelfRedirectHyperlinks    0.012762
5                    NumDashInHostname    0.011742
39                       IframeOrFrame    0.010526
4                              NumDash    0.009479
2                            PathLevel    0.008935
9                           NumPercent    0.008374
46                 ExtMetaScriptLinkRT    0.008263
31                       ExtFormAction    0.008048
11                        NumAmpersand    0.007881
‚úÖ Saved: visualizations/07_feature_importance_xgb.png

‚úÖ Saved feature importance files to results/

================================================================================
8. SAVING BEST MODEL
================================================================================

üèÜ Best Model: XGBoost
   F1-Score: 0.9865

‚úÖ Best model saved: models/best_model_xgboost.pkl
‚úÖ Scaler saved: models/scaler.pkl
‚úÖ Feature names saved: models/feature_names.pkl

‚úÖ All models saved to models/ directory
‚úÖ Model info saved: models/model_info.json

================================================================================
‚úÖ ANALYSIS COMPLETE!
================================================================================

üìÅ Output Structure:

   üìÇ visualizations/
      ‚îú‚îÄ‚îÄ 01_class_distribution.png
      ‚îú‚îÄ‚îÄ 02_feature_distributions.png
      ‚îú‚îÄ‚îÄ 03_correlation_matrix.png
      ‚îú‚îÄ‚îÄ 04_top_correlations.png
      ‚îú‚îÄ‚îÄ 05_confusion_matrix_*.png (3 files)
      ‚îú‚îÄ‚îÄ 06_model_comparison.png
      ‚îú‚îÄ‚îÄ 07_feature_importance_rf.png
      ‚îî‚îÄ‚îÄ 07_feature_importance_xgb.png

   üìÇ results/
      ‚îú‚îÄ‚îÄ model_comparison.csv
      ‚îú‚îÄ‚îÄ feature_importance_random_forest.csv
      ‚îî‚îÄ‚îÄ feature_importance_xgboost.csv

   üìÇ models/
      ‚îú‚îÄ‚îÄ best_model_xgboost.pkl
      ‚îú‚îÄ‚îÄ model_logistic_regression.pkl
      ‚îú‚îÄ‚îÄ model_random_forest.pkl
      ‚îú‚îÄ‚îÄ model_xgboost.pkl
      ‚îú‚îÄ‚îÄ scaler.pkl
      ‚îú‚îÄ‚îÄ feature_names.pkl
      ‚îî‚îÄ‚îÄ model_info.json

üèÜ Best Performing Model: XGBoost
   F1-Score: 0.9865

üìä All Models Performance:

              Model  Accuracy  Precision  Recall  F1-Score  AUC-ROC
            XGBoost    0.9865   0.986014   0.987  0.986507 0.998642
      Random Forest    0.9855   0.985986   0.985  0.985493 0.998927
Logistic Regression    0.9520   0.944882   0.960  0.952381 0.986837

================================================================================
Thank you for using Phishing Detection Analysis!
================================================================================
